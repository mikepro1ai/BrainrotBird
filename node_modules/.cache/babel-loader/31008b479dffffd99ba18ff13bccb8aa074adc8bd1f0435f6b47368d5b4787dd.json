{"ast":null,"code":"import _objectSpread from\"C:/CursorProjects/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useCallback}from'react';import Bird from'./Bird';import Pipe from'./Pipe';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const GRAVITY=0.7;const JUMP_FORCE=-12;const PIPE_GAP=150;const PIPE_INTERVAL=2000;const PIPE_SPEED=5;const Game=()=>{const[birdPosition,setBirdPosition]=useState(250);const[velocity,setVelocity]=useState(0);const[pipes,setPipes]=useState([]);const[isGameOver,setIsGameOver]=useState(false);const[score,setScore]=useState(0);const jump=useCallback(()=>{if(!isGameOver){setVelocity(JUMP_FORCE);}},[isGameOver]);useEffect(()=>{const handleKeyPress=e=>{if(e.code==='Space'){jump();}};window.addEventListener('keydown',handleKeyPress);return()=>window.removeEventListener('keydown',handleKeyPress);},[jump]);useEffect(()=>{if(isGameOver)return;const gameLoop=setInterval(()=>{setBirdPosition(prev=>{const newPosition=prev+velocity;if(newPosition>500||newPosition<0){setIsGameOver(true);return prev;}return newPosition;});setVelocity(prev=>prev+GRAVITY);},20);return()=>clearInterval(gameLoop);},[velocity,isGameOver]);useEffect(()=>{if(isGameOver)return;const pipeGenerator=setInterval(()=>{const height=Math.random()*(400-PIPE_GAP);setPipes(prev=>[...prev,{x:800,height,passed:false}]);},PIPE_INTERVAL);return()=>clearInterval(pipeGenerator);},[isGameOver]);useEffect(()=>{if(isGameOver)return;const pipeInterval=setInterval(()=>{setPipes(prev=>{return prev.map(pipe=>{// Move pipe to the left\nconst newX=pipe.x-PIPE_SPEED;// Check collision with more precise hitbox\nconst birdLeft=50;// Bird's x position\nconst birdRight=birdLeft+40;// Bird width is 40px\nconst birdTop=birdPosition;const birdBottom=birdPosition+40;// Bird height is 40px\nconst pipeLeft=newX;const pipeRight=newX+60;// Pipe width is 60px\nif(birdRight>pipeLeft&&birdLeft<pipeRight&&(birdTop<pipe.height||birdBottom>pipe.height+PIPE_GAP)){setIsGameOver(true);}// Check if pipe passed the bird\nif(!pipe.passed&&newX<50){setScore(s=>s+1);return _objectSpread(_objectSpread({},pipe),{},{x:newX,passed:true});}return _objectSpread(_objectSpread({},pipe),{},{x:newX});}).filter(pipe=>pipe.x>-100);// Remove pipes that are off screen\n});},16);// 60 FPS\nreturn()=>clearInterval(pipeInterval);},[isGameOver,birdPosition]);const restartGame=()=>{setBirdPosition(250);setVelocity(0);setPipes([]);setScore(0);setIsGameOver(false);};return/*#__PURE__*/_jsxs(\"div\",{onClick:jump,style:{height:'500px',width:'100%',backgroundColor:'lightblue',position:'relative',overflow:'hidden',cursor:'pointer'},children:[/*#__PURE__*/_jsx(Bird,{position:birdPosition,velocity:velocity}),pipes.map((pipe,i)=>/*#__PURE__*/_jsxs(\"div\",{style:{position:'absolute',left:pipe.x,top:0,height:'100%'},children:[/*#__PURE__*/_jsx(Pipe,{height:pipe.height,top:true}),/*#__PURE__*/_jsx(Pipe,{height:500-pipe.height-PIPE_GAP,top:false})]},i)),/*#__PURE__*/_jsxs(\"div\",{style:{position:'absolute',top:'20px',left:'20px',fontSize:'24px',fontWeight:'bold'},children:[\"Score: \",score]}),isGameOver&&/*#__PURE__*/_jsxs(\"div\",{style:{position:'absolute',top:'50%',left:'50%',transform:'translate(-50%, -50%)',textAlign:'center'},children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Game Over!\"}),/*#__PURE__*/_jsx(\"button\",{onClick:e=>{e.stopPropagation();restartGame();},style:{padding:'10px 20px',fontSize:'18px',cursor:'pointer'},children:\"Restart\"})]})]});};export default Game;","map":{"version":3,"names":["React","useState","useEffect","useCallback","Bird","Pipe","jsx","_jsx","jsxs","_jsxs","GRAVITY","JUMP_FORCE","PIPE_GAP","PIPE_INTERVAL","PIPE_SPEED","Game","birdPosition","setBirdPosition","velocity","setVelocity","pipes","setPipes","isGameOver","setIsGameOver","score","setScore","jump","handleKeyPress","e","code","window","addEventListener","removeEventListener","gameLoop","setInterval","prev","newPosition","clearInterval","pipeGenerator","height","Math","random","x","passed","pipeInterval","map","pipe","newX","birdLeft","birdRight","birdTop","birdBottom","pipeLeft","pipeRight","s","_objectSpread","filter","restartGame","onClick","style","width","backgroundColor","position","overflow","cursor","children","i","left","top","fontSize","fontWeight","transform","textAlign","stopPropagation","padding"],"sources":["C:/CursorProjects/src/components/Game.tsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\r\nimport Bird from './Bird';\r\nimport Pipe from './Pipe';\r\n\r\nconst GRAVITY = 0.7;\r\nconst JUMP_FORCE = -12;\r\nconst PIPE_GAP = 150;\r\nconst PIPE_INTERVAL = 2000;\r\nconst PIPE_SPEED = 5;\r\n\r\nconst Game: React.FC = () => {\r\n  const [birdPosition, setBirdPosition] = useState(250);\r\n  const [velocity, setVelocity] = useState(0);\r\n  const [pipes, setPipes] = useState<{ x: number; height: number; passed: boolean }[]>([]);\r\n  const [isGameOver, setIsGameOver] = useState(false);\r\n  const [score, setScore] = useState(0);\r\n\r\n  const jump = useCallback(() => {\r\n    if (!isGameOver) {\r\n      setVelocity(JUMP_FORCE);\r\n    }\r\n  }, [isGameOver]);\r\n\r\n  useEffect(() => {\r\n    const handleKeyPress = (e: KeyboardEvent) => {\r\n      if (e.code === 'Space') {\r\n        jump();\r\n      }\r\n    };\r\n\r\n    window.addEventListener('keydown', handleKeyPress);\r\n    return () => window.removeEventListener('keydown', handleKeyPress);\r\n  }, [jump]);\r\n\r\n  useEffect(() => {\r\n    if (isGameOver) return;\r\n\r\n    const gameLoop = setInterval(() => {\r\n      setBirdPosition((prev) => {\r\n        const newPosition = prev + velocity;\r\n        if (newPosition > 500 || newPosition < 0) {\r\n          setIsGameOver(true);\r\n          return prev;\r\n        }\r\n        return newPosition;\r\n      });\r\n      setVelocity((prev) => prev + GRAVITY);\r\n    }, 20);\r\n\r\n    return () => clearInterval(gameLoop);\r\n  }, [velocity, isGameOver]);\r\n\r\n  useEffect(() => {\r\n    if (isGameOver) return;\r\n\r\n    const pipeGenerator = setInterval(() => {\r\n      const height = Math.random() * (400 - PIPE_GAP);\r\n      setPipes((prev) => [...prev, { x: 800, height, passed: false }]);\r\n    }, PIPE_INTERVAL);\r\n\r\n    return () => clearInterval(pipeGenerator);\r\n  }, [isGameOver]);\r\n\r\n  useEffect(() => {\r\n    if (isGameOver) return;\r\n\r\n    const pipeInterval = setInterval(() => {\r\n      setPipes((prev) => {\r\n        return prev\r\n          .map((pipe) => {\r\n            // Move pipe to the left\r\n            const newX = pipe.x - PIPE_SPEED;\r\n            \r\n            // Check collision with more precise hitbox\r\n            const birdLeft = 50;  // Bird's x position\r\n            const birdRight = birdLeft + 40;  // Bird width is 40px\r\n            const birdTop = birdPosition;\r\n            const birdBottom = birdPosition + 40;  // Bird height is 40px\r\n            \r\n            const pipeLeft = newX;\r\n            const pipeRight = newX + 60;  // Pipe width is 60px\r\n            \r\n            if (\r\n              birdRight > pipeLeft && \r\n              birdLeft < pipeRight && \r\n              (birdTop < pipe.height || birdBottom > pipe.height + PIPE_GAP)\r\n            ) {\r\n              setIsGameOver(true);\r\n            }\r\n\r\n            // Check if pipe passed the bird\r\n            if (!pipe.passed && newX < 50) {\r\n              setScore((s) => s + 1);\r\n              return { ...pipe, x: newX, passed: true };\r\n            }\r\n\r\n            return { ...pipe, x: newX };\r\n          })\r\n          .filter((pipe) => pipe.x > -100); // Remove pipes that are off screen\r\n      });\r\n    }, 16); // 60 FPS\r\n\r\n    return () => clearInterval(pipeInterval);\r\n  }, [isGameOver, birdPosition]);\r\n\r\n  const restartGame = () => {\r\n    setBirdPosition(250);\r\n    setVelocity(0);\r\n    setPipes([]);\r\n    setScore(0);\r\n    setIsGameOver(false);\r\n  };\r\n\r\n  return (\r\n    <div\r\n      onClick={jump}\r\n      style={{\r\n        height: '500px',\r\n        width: '100%',\r\n        backgroundColor: 'lightblue',\r\n        position: 'relative',\r\n        overflow: 'hidden',\r\n        cursor: 'pointer',\r\n      }}\r\n    >\r\n      <Bird position={birdPosition} velocity={velocity} />\r\n      {pipes.map((pipe, i) => (\r\n        <div key={i} style={{ position: 'absolute', left: pipe.x, top: 0, height: '100%' }}>\r\n          <Pipe height={pipe.height} top />\r\n          <Pipe height={500 - pipe.height - PIPE_GAP} top={false} />\r\n        </div>\r\n      ))}\r\n      \r\n      <div\r\n        style={{\r\n          position: 'absolute',\r\n          top: '20px',\r\n          left: '20px',\r\n          fontSize: '24px',\r\n          fontWeight: 'bold',\r\n        }}\r\n      >\r\n        Score: {score}\r\n      </div>\r\n\r\n      {isGameOver && (\r\n        <div\r\n          style={{\r\n            position: 'absolute',\r\n            top: '50%',\r\n            left: '50%',\r\n            transform: 'translate(-50%, -50%)',\r\n            textAlign: 'center',\r\n          }}\r\n        >\r\n          <h1>Game Over!</h1>\r\n          <button\r\n            onClick={(e) => {\r\n              e.stopPropagation();\r\n              restartGame();\r\n            }}\r\n            style={{\r\n              padding: '10px 20px',\r\n              fontSize: '18px',\r\n              cursor: 'pointer',\r\n            }}\r\n          >\r\n            Restart\r\n          </button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Game; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}